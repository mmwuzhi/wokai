{"version":3,"sources":["provider/UserContext.jsx","reducers/userReducers.js","components/loading/Loading.jsx","actions/userActions.js","components/Navbar.jsx","components/Example.jsx","components/comment/CommentInput.jsx","components/comment/CommentDetail.jsx","components/comment/CommentList.jsx","components/Comment.jsx","components/user/SignIn.jsx","components/user/MyPage.jsx","components/user/Login.jsx","components/user/Logout.jsx","App.js","index.js"],"names":["UserContext","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT_REQUEST","USER_LOGOUT_SUCCESS","USER_LOGOUT_FAIL","USER_CHECK_LOGGED_REQUEST","USER_CHECK_LOGGED_SUCCESS","USER_CHECK_LOGGED_FAIL","userReducer","state","action","type","loading","logged","userData","value","error","Loading","className","size","createContext","Provider","initialState","Consumer","UserProvider","props","useReducer","dispatch","useEffect","axios","get","then","res","data","code","catch","console","log","checkLogged","children","Navbar","useContext","to","exact","activeClassName","Example","useState","count","setCount","document","title","onClick","CommentInput","username","setUsername","content","setContent","onChange","e","target","preventDefault","onSubmit","email","user","createdTime","Date","handleSubmit","CommentDetail","timeString","this","_updateTimeString","_timer","setInterval","bind","clearInterval","time","dateTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","comment","duration","now","setState","Math","round","max","replace","onDeleteComment","_id","dangerouslySetInnerHTML","__html","_getProcessedContent","handleDeleteComment","Component","CommentList","comments","map","index","id","Comment","err","post","componentDidMount","alert","delete","filter","el","handleSubmitComment","SignIn","password","confirmPassword","message","history","push","onChangeUsername","onChangeEmail","onChangePassword","style","color","onChangeConfirmPassword","MyPage","newPassword","confirmNewPassword","errorMessage","onChangeNewPassword","onChangeNewConfirmPassword","Login","setEmail","setPassword","a","response","login","Logout","backgroundColor","borderColor","logout","App","path","component","ReactDOM","render","getElementById"],"mappings":"+HAKIA,E,oECLSC,EAAqB,qBACrBC,EAAqB,qBACrBC,EAAkB,kBAElBC,EAAsB,sBACtBC,EAAsB,sBACtBC,EAAmB,mBAEnBC,EAA4B,4BAC5BC,EAA4B,4BAC5BC,EAAyB,yBAMzBC,EAAc,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCACjD,OAAQA,EAAOC,MACb,KAAKZ,EACH,OAAO,2BACFU,GADL,IAEEG,SAAS,IAEb,KAAKZ,EACH,OAAO,2BACFS,GADL,IAEEG,SAAS,EACTC,QAAQ,EACRC,SAAUJ,EAAOK,QAErB,KAAKd,EACH,OAAO,2BACFQ,GADL,IAEEG,SAAS,EACTI,MAAON,EAAOK,QAElB,KAAKb,EACH,OAAO,2BACFO,GADL,IAEEG,SAAS,IAEb,KAAKT,EACH,OAAO,2BACFM,GADL,IAEEG,SAAS,EACTC,QAAQ,EACRC,SAAU,KAEd,KAAKV,EACH,OAAO,2BACFK,GADL,IAEEG,SAAS,EACTI,MAAON,EAAOK,QAElB,KAAKV,EACH,OAAO,2BACFI,GADL,IAEEG,SAAS,IAEb,KAAKN,EACH,OAAO,2BACFG,GADL,IAEEG,SAAS,EACTC,QAAQ,EACRC,SAAUJ,EAAOK,QAErB,KAAKR,EACH,OAAO,2BACFE,GADL,IAEEG,SAAS,EACTI,MAAON,EAAOK,QAElB,QACE,OAAON,I,wDCvEAQ,EAAU,kBACrB,qBAAKC,UAAU,UAAf,SACE,cAAC,IAAD,CAAMC,KAAK,aFEf,EAAgCrB,EAAcsB,0BAAtCC,EAAR,EAAQA,SAEFC,GAFN,EAAkBC,SAEG,CACnBT,SAAU,GACVE,MAAO,KACPH,QAAQ,EACRD,SAAS,IAELY,EAAe,SAACC,GACpB,MAA0BC,qBAAWlB,EAAac,GAAlD,mBAAOb,EAAP,KAAckB,EAAd,KAoBA,OAlBAC,qBAAU,YGsCe,SAACD,GAC1BA,EAAS,CACPhB,KAAMN,IAERwB,IACGC,IAAI,uBACJC,MAAK,SAACC,GACa,IAAlBA,EAAIC,KAAKC,KACLP,EAAS,CACPhB,KAAML,EACNS,MAAOiB,EAAIC,KAAKA,OAElBN,EAAS,CACPhB,KAAMJ,OAGb4B,OAAM,SAACnB,GACNoB,QAAQC,IAAIrB,GACZW,EAAS,CACPhB,KAAMJ,OHxDV+B,CAAYX,KACX,IAiBD,eAACN,EAAD,CACEN,MAAO,CACLN,QACAkB,YAHJ,UAMGlB,EAAMG,SAAW,cAAC,EAAD,IACjBa,EAAMc,aIrCPC,EAAS,WACb,IAAQ/B,EAAUgC,qBAAW3C,GAArBW,MACR,OACE,sBAAKS,UAAU,qDAAf,UACE,eAAC,IAAD,CAAMwB,GAAG,IAAIxB,UAAU,eAAvB,uDACU,OAKV,qBAAKA,UAAU,2BAAf,SACE,qBAAIA,UAAU,qBAAd,UACE,oBAAIA,UAAU,cAAd,SACE,cAAC,IAAD,CAASwB,GAAG,IAAIC,OAAK,EAACC,gBAAgB,SAAS1B,UAAU,WAAzD,oDAIF,oBAAIA,UAAU,cAAd,SACE,cAAC,IAAD,CACEwB,GAAG,WACHC,OAAK,EACLC,gBAAgB,SAChB1B,UAAU,WAJZ,wCASDT,EAAMI,OACL,oBAAIK,UAAU,cAAd,SACE,cAAC,IAAD,CACEwB,GAAG,eACHE,gBAAgB,SAChB1B,UAAU,WAHZ,8CASF,oBAAIA,UAAU,cAAd,SACE,cAAC,IAAD,CACEwB,GAAG,eACHE,gBAAgB,SAChB1B,UAAU,WAHZ,oDASHT,EAAMI,OACL,oBAAIK,UAAU,cAAd,SACE,cAAC,IAAD,CACEwB,GAAG,eACHE,gBAAgB,SAChB1B,UAAU,WAHZ,8CASF,oBAAIA,UAAU,cAAd,SACE,cAAC,IAAD,CACEwB,GAAG,cACHE,gBAAgB,SAChB1B,UAAU,WAHZ,iDCvBC,SAAS2B,IAEtB,MAA0BC,mBAAS,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAMA,OAJApB,qBAAU,WACRqB,SAASC,MAAT,sBAAgCH,EAAhC,aAIA,gCACE,6CAAgBA,EAAhB,YACA,wBAAQI,QAAS,kBAAMH,EAASD,EAAQ,IAAxC,yB,oCCUSK,EA3DM,SAAC3B,GACpB,IAAQhB,EAAUgC,qBAAW3C,GAArBW,MACR,EAAgCqC,mBAAS,IAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAA8BR,mBAAS,IAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KAGA5B,qBAAU,WAERC,IAAMC,IAAI,uBAAuBC,MAAK,SAACC,GACnB,IAAlBA,EAAIC,KAAKC,MAAcoB,EAAYtB,EAAIC,KAAKA,KAAKoB,eAIlD,IAiBH,OACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAMA,UAAU,qBAAhB,4CACA,qBAAKA,UAAU,sBAAf,SACE,uBACEH,MAAOsC,EACPI,SAAU,SAACC,GAAD,OAAOJ,EAAYI,EAAEC,OAAO5C,eAI5C,sBAAKG,UAAU,gBAAf,UACE,sBAAMA,UAAU,qBAAhB,4CACA,qBAAKA,UAAU,sBAAf,SACE,0BAGEH,MAAOwC,EACPE,SAAU,SAACC,GAAD,OAAOF,EAAWE,EAAEC,OAAO5C,eAI3C,qBAAKG,UAAU,uBAAf,SACE,wBAAQiC,QAAS,SAACO,GAAD,OAtCF,SAACA,GAGpB,GAFAA,EAAEE,iBAEEnC,EAAMoC,SAAU,CAClB,IAAQC,EAAUrD,EAAMsD,KAAhBD,MACRrC,EAAMoC,SAAS,CACbR,WACAS,QACAP,UACAS,aAAc,IAAIC,OAGtBT,EAAW,IA0BiBU,CAAaR,IAArC,gCC8BOS,E,kDA7Eb,WAAY1C,GAAQ,IAAD,8BACjB,cAAMA,IACDhB,MAAQ,CAAE2D,WAAY,IAFV,E,6DAKnB,WACEC,KAAKC,oBACLD,KAAKE,OAASC,YAAYH,KAAKC,kBAAkBG,KAAKJ,MAAO,O,kCAG/D,WACEK,cAAcL,KAAKE,U,qBAGrB,SAAQI,GACN,IAAMC,EAAW,IAAIX,KAAKU,GAC1B,MAAM,GAAN,OAAUC,EAASC,cAAnB,iBACED,EAASE,WAAa,EADxB,iBAEIF,EAASG,UAFb,kBAE2BH,EAASI,WAFpC,YAEkDJ,EAASK,aAF3D,YAE2EL,EAASM,gB,+BAGtF,WACE,IAAMC,EAAUd,KAAK5C,MAAM0D,QACrBC,IAAanB,KAAKoB,MAAQF,EAAQnB,aAAe,IACvDK,KAAKiB,SAAS,CACZlB,WACEgB,EAAW,GACPA,EAAW,KACTA,EAAW,MACTf,KAAKU,QAAQI,EAAQnB,aADvB,UAEKuB,KAAKC,MAAMJ,EAAQ,MAFxB,uBADF,UAIKG,KAAKC,MAAMJ,EAAW,IAJ3B,iBADJ,UAMOG,KAAKC,MAAMD,KAAKE,IAAIL,EAAU,IANrC,qB,kCAUN,SAAqB7B,GACnB,OAAOA,EACJmC,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,UACdA,QAAQ,gBAAiB,qB,iCAE9B,WACMrB,KAAK5C,MAAMkE,iBACbtB,KAAK5C,MAAMkE,gBAAgBtB,KAAK5C,MAAM0D,QAAQS,O,oBAIlD,WACE,IAAQT,EAAYd,KAAK5C,MAAjB0D,QACR,OACE,sBAAKjE,UAAU,UAAf,UACE,sBAAKA,UAAU,eAAf,UACE,+BAAOiE,EAAQ9B,WADjB,YAGA,sBAAMnC,UAAU,sBAAhB,SAAuCmD,KAAK5D,MAAM2D,aAClD,mBACEyB,wBAAyB,CACvBC,OAAQzB,KAAK0B,qBAAqBZ,EAAQ5B,YAG3B,KAAlB4B,EAAQrB,OACP,sBACEX,QAASkB,KAAK2B,oBAAoBvB,KAAKJ,MACvCnD,UAAU,iBAFZ,iC,GAxEkB+E,aCwBbC,EAxBK,SAACzE,GACnB,IAAQhB,EAAUgC,qBAAW3C,GAArBW,MAMR,OACE,8BACGgB,EAAM0E,SAASC,KACd,SAACjB,EAASkB,GAAV,OACGlB,EAAQrB,QAAUrD,EAAMK,SAASgD,OAA2B,KAAlBqB,EAAQrB,QACjD,cAAC,EAAD,CACEqB,QAASA,EAETkB,MAAOA,EACPV,gBAAiB,SAACW,GAAD,OAdD,SAACA,GACvB7E,EAAMkE,iBACRlE,EAAMkE,gBAAgBW,GAYWN,CAAoBM,KAFxCD,SCyDJE,E,kDAhEb,WAAY9E,GAAQ,IAAD,8BACjB,cAAMA,IACDhB,MAAQ,CACX0F,SAAU,GACV9C,SAAU,IAJK,E,qDAQnB,WAAqB,IAAD,OAClBxB,IACGC,IAAI,kBACJC,MAAK,SAACC,GACL,EAAKsD,SAAS,CAAEa,SAAUnE,EAAIC,UAE/BE,OAAM,SAACqE,GACNpE,QAAQC,IAAImE,Q,iCAIlB,SAAoBrB,GAClB,GAAKA,EACL,OAAKA,EAAQ9B,SACR8B,EAAQ5B,aACb1B,IACG4E,KAAK,oBAAqBtB,GAC1BpD,KAAKsC,KAAKqC,kBAAkBjC,KAAKJ,OACjClC,OAAM,SAACqE,GACNpE,QAAQC,IAAImE,MALaG,MAAM,wFADLA,MAAM,0F,iCAUtC,SAAoBL,GAClBzE,IACG+E,OAAO,iBAAmBN,GAC1BvE,MAAK,SAACC,GAAD,OAASI,QAAQC,IAAIL,EAAIC,SAC9BE,OAAM,SAACqE,GACNpE,QAAQC,IAAImE,MAGhBnC,KAAKiB,SAAS,CACZa,SAAU9B,KAAK5D,MAAM0F,SAASU,QAAO,SAACC,GAAD,OAAQA,EAAGlB,MAAQU,S,oBAI5D,WACE,OACE,sBAAKpF,UAAU,UAAf,UAQE,cAAC,EAAD,CAAc2C,SAAUQ,KAAK0C,oBAAoBtC,KAAKJ,QACtD,cAAC,EAAD,CACE8B,SAAU9B,KAAK5D,MAAM0F,SACrBR,gBAAiBtB,KAAK2B,oBAAoBvB,KAAKJ,e,GA1DnC4B,a,QCLDe,E,kDACnB,WAAYvF,GAAQ,IAAD,8BACjB,cAAMA,IAEDoC,SAAW,EAAKA,SAASY,KAAd,gBAEhB,EAAKhE,MAAQ,CACX4C,SAAU,GACVS,MAAO,GACPmD,SAAU,GACVC,gBAAiB,GACjBC,QAAS,GACTvG,SAAS,GAEXiB,IAAMC,IAAI,uBAAuBC,MAAK,SAACC,GACnB,IAAlBA,EAAIC,KAAKC,KACL,EAAKT,MAAM2F,QAAQC,KAAK,gBACxB,EAAK/B,SAAS,CAAE1E,SAAS,OAhBd,E,oDAoBnB,SAAiB8C,GACfW,KAAKiB,SAAS,CACZjC,SAAUK,EAAEC,OAAO5C,U,2BAGvB,SAAc2C,GACZW,KAAKiB,SAAS,CACZxB,MAAOJ,EAAEC,OAAO5C,U,8BAGpB,SAAiB2C,GACfW,KAAKiB,SAAS,CACZ2B,SAAUvD,EAAEC,OAAO5C,U,qCAGvB,SAAwB2C,GACtBW,KAAKiB,SAAS,CACZ4B,gBAAiBxD,EAAEC,OAAO5C,U,sBAG9B,SAAS2C,GAAI,IAAD,OAEV,GADAA,EAAEE,iBACES,KAAK5D,MAAMwG,WAAa5C,KAAK5D,MAAMyG,gBACrC7C,KAAKiB,SAAS,CACZ6B,QAAS,6FAEN,CACL,IAAMpD,EAAO,CACXV,SAAUgB,KAAK5D,MAAM4C,SACrBS,MAAOO,KAAK5D,MAAMqD,MAClBmD,SAAU5C,KAAK5D,MAAMwG,UAEvB5C,KAAKiB,SAAS,CACZ6B,QAAS,KAGXtF,IACG4E,KAAK,cAAe1C,GACpBhC,MAAK,WACJ4E,MAAM,sEACN,EAAKlF,MAAM2F,QAAQC,KAAK,eAEzBlF,OAAM,SAACuB,GACNtB,QAAQC,IAAIqB,GACZiD,MAAMjD,S,oBAId,WACE,OACE,gCACGW,KAAK5D,MAAMG,SAAW,cAAC,EAAD,IACvB,oBAAIM,UAAU,YAAd,kDACA,uBAAM2C,SAAUQ,KAAKR,SAArB,UACE,sBAAK3C,UAAU,aAAf,UACE,2EACA,uBACEP,KAAK,OACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAM4C,SAClBI,SAAUY,KAAKiD,iBAAiB7C,KAAKJ,WAGzC,sBAAKnD,UAAU,aAAf,UACE,iFACA,uBACEP,KAAK,QACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAMqD,MAClBL,SAAUY,KAAKkD,cAAc9C,KAAKJ,WAGtC,sBAAKnD,UAAU,aAAf,UACE,qEACA,uBACEP,KAAK,WACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAMwG,SAClBxD,SAAUY,KAAKmD,iBAAiB/C,KAAKJ,WAGzC,sBAAKnD,UAAU,aAAf,UACE,iFACA,sBAAMuG,MAAO,CAAEC,MAAO,OAAtB,SAAgCrD,KAAK5D,MAAM0G,UAC3C,uBACExG,KAAK,WACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAMyG,gBAClBzD,SAAUY,KAAKsD,wBAAwBlD,KAAKJ,WAGhD,qBAAKnD,UAAU,aAAf,SACE,uBACEP,KAAK,SACLI,MAAM,uCACNG,UAAU,6B,GApHY+E,aCFf2B,E,kDACnB,WAAYnG,GAAQ,IAAD,8BACjB,cAAMA,IAEDoC,SAAW,EAAKA,SAASY,KAAd,gBAEhB,EAAKhE,MAAQ,CACX4C,SAAU,GACVS,MAAO,GACPmD,SAAU,GACVY,YAAa,GACbC,mBAAoB,GACpBC,aAAc,GACdZ,QAAS,IAEXtF,IAAMC,IAAI,uBAAuBC,MAAK,SAACC,GACnB,IAAlBA,EAAIC,KAAKC,KACL,EAAKoD,SAAS,CACZjC,SAAUrB,EAAIC,KAAKA,KAAKoB,SACxBS,MAAO9B,EAAIC,KAAKA,KAAK6B,QAEvB,EAAKrC,MAAM2F,QAAQC,KAAK,kBApBb,E,oDAwBnB,SAAiB3D,GACfW,KAAKiB,SAAS,CACZjC,SAAUK,EAAEC,OAAO5C,U,8BAGvB,SAAiB2C,GACfW,KAAKiB,SAAS,CACZ2B,SAAUvD,EAAEC,OAAO5C,U,iCAGvB,SAAoB2C,GAClBW,KAAKiB,SAAS,CACZuC,YAAanE,EAAEC,OAAO5C,U,wCAG1B,SAA2B2C,GACzBW,KAAKiB,SAAS,CACZwC,mBAAoBpE,EAAEC,OAAO5C,U,sBAGjC,SAAS2C,GAAI,IAAD,OAEV,GADAA,EAAEE,iBACES,KAAK5D,MAAMoH,cAAgBxD,KAAK5D,MAAMqH,mBACxCzD,KAAKiB,SAAS,CACZ6B,QAAS,6FAEN,CACL,IAAMpD,EAAO,CACXV,SAAUgB,KAAK5D,MAAM4C,SACrBS,MAAOO,KAAK5D,MAAMqD,MAClBmD,SAAU5C,KAAK5D,MAAMwG,SACrBY,YAAaxD,KAAK5D,MAAMoH,aAE1BxD,KAAKiB,SAAS,CACZ6B,QAAS,KAGXtF,IACG4E,KAAK,oBAAqB1C,GAC1BhC,MAAK,WACJ4E,MAAM,8CACN,EAAKlF,MAAM2F,QAAQC,KAAK,eAEzBlF,OAAM,SAACuB,GACN,EAAK4B,SAAS,CACZyC,aAAc,mFAEhBpB,MAAMjD,S,oBAId,WACE,OACE,gCACE,oBAAIxC,UAAU,YAAd,8DACA,uBAAM2C,SAAUQ,KAAKR,SAArB,UACE,sBAAK3C,UAAU,aAAf,UACE,2EACA,uBACEP,KAAK,OACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAM4C,SAClBI,SAAUY,KAAKiD,iBAAiB7C,KAAKJ,WAGzC,sBAAKnD,UAAU,aAAf,UACE,iFACA,+BAAOmD,KAAK5D,MAAMqD,WAEpB,sBAAK5C,UAAU,aAAf,UACE,qEACA,sBAAMuG,MAAO,CAAEC,MAAO,OAAtB,SAAgCrD,KAAK5D,MAAMsH,eAC3C,uBACEpH,KAAK,WACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAMwG,SAClBxD,SAAUY,KAAKmD,iBAAiB/C,KAAKJ,WAGzC,sBAAKnD,UAAU,aAAf,UACE,2EACA,uBACEP,KAAK,WACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAMoH,YAClBpE,SAAUY,KAAK2D,oBAAoBvD,KAAKJ,WAG5C,sBAAKnD,UAAU,aAAf,UACE,uFACA,sBAAMuG,MAAO,CAAEC,MAAO,OAAtB,SAAgCrD,KAAK5D,MAAM0G,UAC3C,uBACExG,KAAK,WACLO,UAAU,yBACVH,MAAOsD,KAAK5D,MAAMqH,mBAClBrE,SAAUY,KAAK4D,2BAA2BxD,KAAKJ,WAGnD,qBAAKnD,UAAU,aAAf,SACE,uBAAOP,KAAK,SAASI,MAAM,eAAKG,UAAU,6B,GA5HlB+E,aC0CrBiC,EAzCD,SAACzG,GACb,MAA4BgB,qBAAW3C,GAA/BW,EAAR,EAAQA,MAAOkB,EAAf,EAAeA,SACf,EAA0BmB,mBAAS,IAAnC,mBAAOgB,EAAP,KAAcqE,EAAd,KACA,EAAgCrF,mBAAS,IAAzC,mBAAOmE,EAAP,KAAiBmB,EAAjB,KACAxG,qBAAU,YACa,IAAjBnB,EAAMI,QAAiBY,EAAM2F,QAAQC,KAAK,cAC7C,CAAC5G,EAAMI,OAAQY,EAAM2F,UACxB,IAAMvD,EAAW,SAACH,GAChBA,EAAEE,iBTCe,SAACE,EAAOmD,GAAR,8CAAqB,WAAOtF,GAAP,mBAAA0G,EAAA,sEAEtC1G,EAAS,CACPhB,KAAMZ,IAEFgE,EAAO,CACXD,MAAOA,EACPmD,SAAUA,GAP0B,SASfpF,IAAM4E,KAAK,mBAAoB1C,GAThB,gBAS9B9B,EAT8B,EAS9BA,KAERN,EAAS,CACPhB,KAAMX,EACNe,MAAOkB,IAb6B,kDAgBtCN,EAAS,CACPhB,KAAMV,EACNc,MAAO,KAAMuH,SAAW,KAAMA,SAASrG,KAAKkF,QAAU,iBAlBlB,0DAArB,sDSCjBoB,CAAMzE,EAAOmD,EAAbsB,CAAuB5G,IAEzB,OACE,gCACE,oBAAIT,UAAU,YAAd,sCACA,uBAAM2C,SAAU,SAACH,GAAD,OAAOG,EAASH,IAAhC,UACE,sBAAKxC,UAAU,aAAf,UACE,iFACA,uBACEP,KAAK,QACLO,UAAU,yBACVH,MAAO+C,EACPL,SAAU,SAACC,GAAD,OAAOyE,EAASzE,EAAEC,OAAO5C,aAGvC,sBAAKG,UAAU,aAAf,UACE,qEACA,uBACEP,KAAK,WACLO,UAAU,yBACVH,MAAOkG,EACPxD,SAAU,SAACC,GAAD,OAAO0E,EAAY1E,EAAEC,OAAO5C,aAG1C,qBAAKG,UAAU,aAAf,SACE,uBAAOP,KAAK,SAASI,MAAM,iCAAQG,UAAU,0BCNxCsH,EA7BA,SAAC/G,GACd,MAA4BgB,qBAAW3C,GAA/BW,EAAR,EAAQA,MAAOkB,EAAf,EAAeA,SACfC,qBAAU,YACa,IAAjBnB,EAAMI,QAAkBY,EAAM2F,QAAQC,KAAK,iBAC9C,CAAC5G,EAAMI,OAAQY,EAAM2F,UAMxB,OACE,gCACE,oBAAIlG,UAAU,YAAd,4CACA,sBAAMA,UAAU,aAAhB,gIACA,sBAAKA,UAAU,aAAf,UACE,wBACEiC,QAAS,WATf1B,EAAM2F,QAAQC,KAAK,MAUbnG,UAAU,eACVuG,MAAO,CAAEgB,gBAAiB,YAAaC,YAAa,aAHtD,4CAOA,wBAAQvF,QAAS,kBVUH,SAACxB,GACrBA,EAAS,CACPhB,KAAMT,IAER2B,IACGC,IAAI,qBACJC,MAAK,SAACC,GACLL,EAAS,CACPhB,KAAMR,OAGTgC,OAAM,SAACnB,GACNW,EAAS,CACPhB,KAAMP,EACNW,MAAOC,EAAMsH,SAAWtH,EAAMsH,SAASrG,KAAKkF,QAAU,oBUxB/BwB,CAAOhH,IAAWT,UAAU,eAAnD,mDCIO0H,MAjBf,WACE,OACE,cAAC,IAAD,UACE,sBAAK1H,UAAU,YAAf,UACE,cAAC,EAAD,IACA,uBACA,cAAC,IAAD,CAAO2H,KAAK,IAAIlG,OAAK,EAACmG,UAAWjG,IACjC,cAAC,IAAD,CAAOgG,KAAK,WAAWC,UAAWvC,IAClC,cAAC,IAAD,CAAOsC,KAAK,eAAeC,UAAW9B,IACtC,cAAC,IAAD,CAAO6B,KAAK,eAAeC,UAAWlB,IACtC,cAAC,IAAD,CAAOiB,KAAK,cAAcC,UAAWZ,IACrC,cAAC,IAAD,CAAOW,KAAK,eAAeC,UAAWN,U,MCjB9CO,IAASC,OACP,cAAC,EAAD,UACE,cAAC,EAAD,MAEF/F,SAASgG,eAAe,W","file":"static/js/main.a29ae658.chunk.js","sourcesContent":["import React, { useEffect, useReducer, createContext } from 'react'\r\n// import axios from 'axios'\r\nimport { userReducer } from '../reducers/userReducers'\r\nimport { checkLogged } from '../actions/userActions'\r\nimport { Loading } from '../components/loading/Loading'\r\nlet UserContext\r\nconst { Provider, Consumer } = (UserContext = createContext())\r\n\r\nconst initialState = {\r\n  userData: {}, // 用户data，里面包含id，username，email\r\n  error: null,\r\n  logged: false,\r\n  loading: true,\r\n}\r\nconst UserProvider = (props) => {\r\n  const [state, dispatch] = useReducer(userReducer, initialState)\r\n  // TODO: 不知道为啥第一次加载的时候这里会渲染3次\r\n  useEffect(() => {\r\n    checkLogged(dispatch)\r\n  }, [])\r\n\r\n  // const handleCheckLogin = () => {\r\n  //   axios\r\n  //     .get('/api/users/userInfo')\r\n  //     .then((user) => {\r\n  //       user.data.code === 0\r\n  //         ? this.setState({\r\n  //             loading: false,\r\n  //             logged: true,\r\n  //             user: user.data.data,\r\n  //           })\r\n  //         : this.setState({ loading: false, logged: false })\r\n  //     })\r\n  //     .catch((error) => this.setState({ loading: false, logged: false, error }))\r\n  // }\r\n  return (\r\n    <Provider\r\n      value={{\r\n        state,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {state.loading && <Loading />}\r\n      {props.children}\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport { UserProvider, Consumer as UserConsumer, UserContext }\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\n\r\nexport const USER_LOGOUT_REQUEST = 'USER_LOGOUT_REQUEST'\r\nexport const USER_LOGOUT_SUCCESS = 'USER_LOGOUT_SUCCESS'\r\nexport const USER_LOGOUT_FAIL = 'USER_LOGOUT_FAIL'\r\n\r\nexport const USER_CHECK_LOGGED_REQUEST = 'USER_CHECK_LOGGED_REQUEST'\r\nexport const USER_CHECK_LOGGED_SUCCESS = 'USER_CHECK_LOGGED_SUCCESS'\r\nexport const USER_CHECK_LOGGED_FAIL = 'USER_CHECK_LOGGED_FAIL'\r\n\r\n// const USER_SIGNUP_REQUEST = 'USER_SIGNUP_REQUEST'\r\n// const USER_SIGNUP_SUCCESS = 'USER_SIGNUP_SUCCESS'\r\n// const USER_SIGNUP_FAIL = 'USER_SIGNUP_FAIL'\r\n\r\nexport const userReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      }\r\n    case USER_LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: true,\r\n        userData: action.value,\r\n      }\r\n    case USER_LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.value,\r\n      }\r\n    case USER_LOGOUT_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      }\r\n    case USER_LOGOUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: false,\r\n        userData: {},\r\n      }\r\n    case USER_LOGOUT_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.value,\r\n      }\r\n    case USER_CHECK_LOGGED_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      }\r\n    case USER_CHECK_LOGGED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: true,\r\n        userData: action.value,\r\n      }\r\n    case USER_CHECK_LOGGED_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.value,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Spin } from 'antd'\r\nexport const Loading = () => (\r\n  <div className='loading'>\r\n    <Spin size='large' />\r\n  </div>\r\n)\r\n","import axios from 'axios'\r\nimport {\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGOUT_REQUEST,\r\n  USER_LOGOUT_SUCCESS,\r\n  USER_LOGOUT_FAIL,\r\n  USER_CHECK_LOGGED_REQUEST,\r\n  USER_CHECK_LOGGED_SUCCESS,\r\n  USER_CHECK_LOGGED_FAIL,\r\n} from '../reducers/userReducers'\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_LOGIN_REQUEST,\r\n    })\r\n    const user = {\r\n      email: email,\r\n      password: password,\r\n    }\r\n    const { data } = await axios.post('/api/users/login', user)\r\n\r\n    dispatch({\r\n      type: USER_LOGIN_SUCCESS,\r\n      value: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LOGIN_FAIL,\r\n      value: error.response ? error.response.data.message : 'errorMessage',\r\n    })\r\n  }\r\n}\r\n\r\nexport const logout = (dispatch) => {\r\n  dispatch({\r\n    type: USER_LOGOUT_REQUEST,\r\n  })\r\n  axios\r\n    .get('/api/users/logout')\r\n    .then((res) => {\r\n      dispatch({\r\n        type: USER_LOGOUT_SUCCESS,\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: USER_LOGOUT_FAIL,\r\n        value: error.response ? error.response.data.message : 'errorMessage',\r\n      })\r\n    })\r\n}\r\n\r\nexport const checkLogged = (dispatch) => {\r\n  dispatch({\r\n    type: USER_CHECK_LOGGED_REQUEST,\r\n  })\r\n  axios\r\n    .get('/api/users/userInfo')\r\n    .then((res) => {\r\n      res.data.code === 0\r\n        ? dispatch({\r\n            type: USER_CHECK_LOGGED_SUCCESS,\r\n            value: res.data.data,\r\n          })\r\n        : dispatch({\r\n            type: USER_CHECK_LOGGED_FAIL,\r\n          })\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n      dispatch({\r\n        type: USER_CHECK_LOGGED_FAIL,\r\n      })\r\n    })\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\n//import Clock from './Clock'\r\nimport { UserContext } from '../provider/UserContext'\r\n\r\nconst Navbar = () => {\r\n  const { state } = useContext(UserContext)\r\n  return (\r\n    <nav className='navbar navbar-dark bg-info navbar-expand-lg shadow'>\r\n      <Link to='/' className='navbar-brand'>\r\n        なんでもさいと{' '}\r\n        {/* <span role='img' aria-label='fire'>\r\n            🔥\r\n          </span> */}\r\n      </Link>\r\n      <div className='collpase navbar-collapse'>\r\n        <ul className='navbar-nav mr-auto'>\r\n          <li className='navbar-item'>\r\n            <NavLink to='/' exact activeClassName='active' className='nav-link'>\r\n              ホームページ\r\n            </NavLink>\r\n          </li>\r\n          <li className='navbar-item'>\r\n            <NavLink\r\n              to='/comment'\r\n              exact\r\n              activeClassName='active'\r\n              className='nav-link'\r\n            >\r\n              コメント\r\n            </NavLink>\r\n          </li>\r\n          {state.logged ? (\r\n            <li className='navbar-item'>\r\n              <NavLink\r\n                to='/user/mypage'\r\n                activeClassName='active'\r\n                className='nav-link'\r\n              >\r\n                マイページ\r\n              </NavLink>\r\n            </li>\r\n          ) : (\r\n            <li className='navbar-item'>\r\n              <NavLink\r\n                to='/user/signup'\r\n                activeClassName='active'\r\n                className='nav-link'\r\n              >\r\n                サインアップ\r\n              </NavLink>\r\n            </li>\r\n          )}\r\n          {state.logged ? (\r\n            <li className='navbar-item'>\r\n              <NavLink\r\n                to='/user/logout'\r\n                activeClassName='active'\r\n                className='nav-link'\r\n              >\r\n                ログアウト\r\n              </NavLink>\r\n            </li>\r\n          ) : (\r\n            <li className='navbar-item'>\r\n              <NavLink\r\n                to='/user/login'\r\n                activeClassName='active'\r\n                className='nav-link'\r\n              >\r\n                ログイン\r\n              </NavLink>\r\n            </li>\r\n          )}\r\n        </ul>\r\n        {/* <Clock /> */}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n\r\n// import React, { Component } from 'react'\r\n// import { Link, NavLink } from 'react-router-dom'\r\n\r\n// //import Clock from './Clock'\r\n// import { UserContext } from './provider/UserContext'\r\n// class Navbar extends Component {\r\n//   static contextType = UserContext\r\n//   render() {\r\n//     const { logged } = this.context\r\n//     return (\r\n//       <nav className='navbar navbar-dark bg-info navbar-expand-lg shadow'>\r\n//         <Link to='/' className='navbar-brand'>\r\n//           なんでもさいと{' '}\r\n//           {/* <span role='img' aria-label='fire'>\r\n//             🔥\r\n//           </span> */}\r\n//         </Link>\r\n//         <div className='collpase navbar-collapse'>\r\n//           <ul className='navbar-nav mr-auto'>\r\n//             <li className='navbar-item'>\r\n//               <NavLink\r\n//                 to='/'\r\n//                 exact\r\n//                 activeClassName='active'\r\n//                 className='nav-link'\r\n//               >\r\n//                 ホームページ\r\n//               </NavLink>\r\n//             </li>\r\n//             <li className='navbar-item'>\r\n//               <NavLink\r\n//                 to='/comment'\r\n//                 exact\r\n//                 activeClassName='active'\r\n//                 className='nav-link'\r\n//               >\r\n//                 コメント\r\n//               </NavLink>\r\n//             </li>\r\n//             {logged ? (\r\n//               <li className='navbar-item'>\r\n//                 <NavLink\r\n//                   to='/user/mypage'\r\n//                   activeClassName='active'\r\n//                   className='nav-link'\r\n//                 >\r\n//                   マイページ\r\n//                 </NavLink>\r\n//               </li>\r\n//             ) : (\r\n//               <li className='navbar-item'>\r\n//                 <NavLink\r\n//                   to='/user/signup'\r\n//                   activeClassName='active'\r\n//                   className='nav-link'\r\n//                 >\r\n//                   サインアップ\r\n//                 </NavLink>\r\n//               </li>\r\n//             )}\r\n//             {logged ? (\r\n//               <li className='navbar-item'>\r\n//                 <NavLink\r\n//                   to='/user/logout'\r\n//                   activeClassName='active'\r\n//                   className='nav-link'\r\n//                 >\r\n//                   ログアウト\r\n//                 </NavLink>\r\n//               </li>\r\n//             ) : (\r\n//               <li className='navbar-item'>\r\n//                 <NavLink\r\n//                   to='/user/login'\r\n//                   activeClassName='active'\r\n//                   className='nav-link'\r\n//                 >\r\n//                   ログイン\r\n//                 </NavLink>\r\n//               </li>\r\n//             )}\r\n//           </ul>\r\n//           {/* <Clock /> */}\r\n//         </div>\r\n//       </nav>\r\n//     )\r\n//   }\r\n// }\r\n\r\nexport { Navbar }\r\n","// import React from 'react'\r\n// import ReactDOM from 'react-dom'\r\n// import PropTypes from 'prop-types'\r\n\r\n// class Mouse extends React.Component {\r\n//   static propTypes = {\r\n//     render: PropTypes.func.isRequired,\r\n//   }\r\n\r\n//   state = { x: 0, y: 0 }\r\n\r\n//   handleMouseMove = (event) => {\r\n//     this.setState({\r\n//       x: event.clientX,\r\n//       y: event.clientY,\r\n//     })\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <div style={{ height: '100%' }} onMouseMove={this.handleMouseMove}>\r\n//         {this.props.render(this.state)}\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n// const Example = () => (\r\n//   <div style={{ height: '100%' }}>\r\n//     <Mouse\r\n//       render={({ x, y }) => (\r\n//         <h1>\r\n//           The mouse position is ({x}, {y})\r\n//         </h1>\r\n//       )}\r\n//     />\r\n//   </div>\r\n// )\r\n\r\n//export default Example\r\n\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nexport default function Example() {\r\n  // 相当于 state setState\r\n  const [count, setCount] = useState(0)\r\n\r\n  useEffect(() => {\r\n    document.title = `You clicked ${count} times`\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <p>You clicked {count} times</p>\r\n      <button onClick={() => setCount(count + 1)}>Click me</button>\r\n    </div>\r\n  )\r\n}\r\n// import React, { Component } from 'react'\r\n\r\n// export default class Example extends Component {\r\n//   constructor(props) {\r\n//     super(props)\r\n//     this.state = {\r\n//       count: 0,\r\n//     }\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     document.title = `You clicked ${this.state.count} times`\r\n//   }\r\n//   componentDidUpdate() {\r\n//     document.title = `You clicked ${this.state.count} times`\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <div>\r\n//         <p>You clicked {this.state.count} times</p>\r\n//         <button onClick={() => this.setState({ count: this.state.count + 1 })}>\r\n//           Click me\r\n//         </button>\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport { UserContext } from '../../provider/UserContext'\r\n\r\nimport axios from 'axios'\r\n\r\nconst CommentInput = (props) => {\r\n  const { state } = useContext(UserContext)\r\n  const [username, setUsername] = useState('')\r\n  const [content, setContent] = useState('')\r\n\r\n  // 第一次加载界面的时候调用，使光标移动到输入框\r\n  useEffect(() => {\r\n    // TODO: 以后说不定会有更好的获得当前用户名的方法\r\n    axios.get('/api/users/userInfo').then((res) => {\r\n      res.data.code === 0 && setUsername(res.data.data.username)\r\n    })\r\n    // TODO: 估计要用useRef\r\n    // this.textarea.focus()\r\n  }, [])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (props.onSubmit) {\r\n      const { email } = state.user\r\n      props.onSubmit({\r\n        username,\r\n        email,\r\n        content,\r\n        createdTime: +new Date(),\r\n      })\r\n    }\r\n    setContent('')\r\n  }\r\n\r\n  return (\r\n    <div className='comment-input'>\r\n      <div className='comment-field'>\r\n        <span className='comment-field-name'>ユーザ名：</span>\r\n        <div className='comment-field-input'>\r\n          <input\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className='comment-field'>\r\n        <span className='comment-field-name'>コメント：</span>\r\n        <div className='comment-field-input'>\r\n          <textarea\r\n            // TODO: 估计要用useRef\r\n            // ref={(textarea) => (this.textarea = textarea)}\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className='comment-field-button'>\r\n        <button onClick={(e) => handleSubmit(e)}>投稿</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentInput\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n// TODO: 改为函数式\r\nclass CommentDetail extends Component {\r\n  static propTypes = {\r\n    comment: PropTypes.object.isRequired,\r\n    onDeleteComment: PropTypes.func,\r\n    index: PropTypes.number,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { timeString: '' }\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this._updateTimeString()\r\n    this._timer = setInterval(this._updateTimeString.bind(this), 1000 * 60)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this._timer)\r\n  }\r\n\r\n  getDate(time) {\r\n    const dateTime = new Date(time)\r\n    return `${dateTime.getFullYear()}年${\r\n      dateTime.getMonth() + 1\r\n    }月${dateTime.getDate()}日 ${dateTime.getHours()}:${dateTime.getMinutes()}:${dateTime.getSeconds()}`\r\n  }\r\n\r\n  _updateTimeString() {\r\n    const comment = this.props.comment\r\n    const duration = (+Date.now() - comment.createdTime) / 1000\r\n    this.setState({\r\n      timeString:\r\n        duration > 60\r\n          ? duration > 60 * 60\r\n            ? duration > 60 * 60 * 24\r\n              ? this.getDate(comment.createdTime)\r\n              : `${Math.round(duration / (60 * 60))} 時間前`\r\n            : `${Math.round(duration / 60)} 分前`\r\n          : `${Math.round(Math.max(duration, 1))} 秒前`,\r\n    })\r\n  }\r\n\r\n  _getProcessedContent(content) {\r\n    return content\r\n      .replace(/&/g, '&amp;')\r\n      .replace(/</g, '&lt;')\r\n      .replace(/>/g, '&gt;')\r\n      .replace(/\"/g, '&quot;')\r\n      .replace(/'/g, '&#039;')\r\n      .replace(/`([\\S\\s]+?)`/g, '<code>$1</code>')\r\n  }\r\n  handleDeleteComment() {\r\n    if (this.props.onDeleteComment) {\r\n      this.props.onDeleteComment(this.props.comment._id)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { comment } = this.props\r\n    return (\r\n      <div className='comment'>\r\n        <div className='comment-user'>\r\n          <span>{comment.username}</span>：\r\n        </div>\r\n        <span className='comment-createdtime'>{this.state.timeString}</span>\r\n        <p\r\n          dangerouslySetInnerHTML={{\r\n            __html: this._getProcessedContent(comment.content),\r\n          }}\r\n        />\r\n        {comment.email !== '' && (\r\n          <span\r\n            onClick={this.handleDeleteComment.bind(this)}\r\n            className='comment-delete'\r\n          >\r\n            削除\r\n          </span>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CommentDetail\r\n","import React, { useContext } from 'react'\r\nimport CommentDetail from './CommentDetail'\r\nimport { UserContext } from '../../provider/UserContext'\r\n\r\nconst CommentList = (props) => {\r\n  const { state } = useContext(UserContext)\r\n  const handleDeleteComment = (id) => {\r\n    if (props.onDeleteComment) {\r\n      props.onDeleteComment(id)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      {props.comments.map(\r\n        (comment, index) =>\r\n          (comment.email === state.userData.email || comment.email === '') && (\r\n            <CommentDetail\r\n              comment={comment}\r\n              key={index}\r\n              index={index}\r\n              onDeleteComment={(id) => handleDeleteComment(id)}\r\n            />\r\n          )\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentList\r\n","import React, { Component } from 'react'\r\nimport CommentInput from './comment/CommentInput'\r\nimport CommentList from './comment/CommentList'\r\n//import PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\n\r\n// const Comment = (props) => {\r\n\r\n// }\r\n\r\nclass Comment extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      comments: [],\r\n      username: '',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get('/api/comments/')\r\n      .then((res) => {\r\n        this.setState({ comments: res.data })\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  handleSubmitComment(comment) {\r\n    if (!comment) return\r\n    if (!comment.username) return alert('ユーザ名を入力してください！')\r\n    if (!comment.content) return alert('コメントを入力してください！')\r\n    axios\r\n      .post('/api/comments/add', comment)\r\n      .then(this.componentDidMount.bind(this))\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  handleDeleteComment(id) {\r\n    axios\r\n      .delete('/api/comments/' + id)\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n    this.setState({\r\n      comments: this.state.comments.filter((el) => el._id !== id),\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='wrapper'>\r\n        {\r\n          // 这里的onSubmit就相当于 this.handleSubmitComment({username, content})\r\n          // 过程:\r\n          // ・button onClick={this.handleSubmit.bind(this)} 调用handleSubmit\r\n          // ・handleSubmit判断onSubmit是否存在 因为存在 所以onSubmit() = onSubmit(CommentInput.state({username, content}))\r\n          // ・所以 onSubmit() = this.handleSubmitComment({username, content})\r\n        }\r\n        <CommentInput onSubmit={this.handleSubmitComment.bind(this)} />\r\n        <CommentList\r\n          comments={this.state.comments}\r\n          onDeleteComment={this.handleDeleteComment.bind(this)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Comment\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { Loading } from '../loading/Loading'\r\n\r\nexport default class SignIn extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      message: '',\r\n      loading: true,\r\n    }\r\n    axios.get('/api/users/userInfo').then((res) => {\r\n      res.data.code === 0\r\n        ? this.props.history.push('/user/mypage')\r\n        : this.setState({ loading: false })\r\n    })\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value,\r\n    })\r\n  }\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value,\r\n    })\r\n  }\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    })\r\n  }\r\n  onChangeConfirmPassword(e) {\r\n    this.setState({\r\n      confirmPassword: e.target.value,\r\n    })\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault()\r\n    if (this.state.password !== this.state.confirmPassword) {\r\n      this.setState({\r\n        message: 'パスワードが一致していない！',\r\n      })\r\n    } else {\r\n      const user = {\r\n        username: this.state.username,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n      }\r\n      this.setState({\r\n        message: '',\r\n      })\r\n      //调用后端接口创建user\r\n      axios\r\n        .post('/api/users/', user)\r\n        .then(() => {\r\n          alert('サインアップしました！')\r\n          this.props.history.push('/comment')\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n          alert(e)\r\n        })\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.loading && <Loading />}\r\n        <h3 className='mt-3 mb-5'>サインアップ</h3>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className='form-group'>\r\n            <label>ニックネーム: </label>\r\n            <input\r\n              type='text'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.username}\r\n              onChange={this.onChangeUsername.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>メールアドレス: </label>\r\n            <input\r\n              type='email'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.email}\r\n              onChange={this.onChangeEmail.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>パスワード: </label>\r\n            <input\r\n              type='password'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.password}\r\n              onChange={this.onChangePassword.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>パスワード確認: </label>\r\n            <span style={{ color: 'red' }}>{this.state.message}</span>\r\n            <input\r\n              type='password'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.confirmPassword}\r\n              onChange={this.onChangeConfirmPassword.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <input\r\n              type='submit'\r\n              value='サインアップ'\r\n              className='btn btn-info'\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default class MyPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      newPassword: '',\r\n      confirmNewPassword: '',\r\n      errorMessage: '',\r\n      message: '',\r\n    }\r\n    axios.get('/api/users/userInfo').then((res) => {\r\n      res.data.code === 0\r\n        ? this.setState({\r\n            username: res.data.data.username,\r\n            email: res.data.data.email,\r\n          })\r\n        : this.props.history.push('/user/login')\r\n    })\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value,\r\n    })\r\n  }\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value,\r\n    })\r\n  }\r\n  onChangeNewPassword(e) {\r\n    this.setState({\r\n      newPassword: e.target.value,\r\n    })\r\n  }\r\n  onChangeNewConfirmPassword(e) {\r\n    this.setState({\r\n      confirmNewPassword: e.target.value,\r\n    })\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault()\r\n    if (this.state.newPassword !== this.state.confirmNewPassword) {\r\n      this.setState({\r\n        message: 'パスワードが一致していない！',\r\n      })\r\n    } else {\r\n      const user = {\r\n        username: this.state.username,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n        newPassword: this.state.newPassword,\r\n      }\r\n      this.setState({\r\n        message: '',\r\n      })\r\n      //调用后端接口创建user\r\n      axios\r\n        .post('/api/users/update', user)\r\n        .then(() => {\r\n          alert('変更しました！')\r\n          this.props.history.push('/comment')\r\n        })\r\n        .catch((e) => {\r\n          this.setState({\r\n            errorMessage: 'パスワードが間違いました！',\r\n          })\r\n          alert(e)\r\n        })\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3 className='mt-3 mb-5'>ユーザー情報変更</h3>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className='form-group'>\r\n            <label>ニックネーム: </label>\r\n            <input\r\n              type='text'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.username}\r\n              onChange={this.onChangeUsername.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>メールアドレス: </label>\r\n            <span>{this.state.email}</span>\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>パスワード: </label>\r\n            <span style={{ color: 'red' }}>{this.state.errorMessage}</span>\r\n            <input\r\n              type='password'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.password}\r\n              onChange={this.onChangePassword.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>新パスワード: </label>\r\n            <input\r\n              type='password'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.newPassword}\r\n              onChange={this.onChangeNewPassword.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <label>新パスワード確認: </label>\r\n            <span style={{ color: 'red' }}>{this.state.message}</span>\r\n            <input\r\n              type='password'\r\n              className='form-control mt-2 mb-4'\r\n              value={this.state.confirmNewPassword}\r\n              onChange={this.onChangeNewConfirmPassword.bind(this)}\r\n            />\r\n          </div>\r\n          <div className='form-group'>\r\n            <input type='submit' value='変更' className='btn btn-info' />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport { UserContext } from '../../provider/UserContext'\r\nimport { login } from '../../actions/userActions'\r\n\r\nconst Login = (props) => {\r\n  const { state, dispatch } = useContext(UserContext)\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  useEffect(() => {\r\n    if (state.logged === true) props.history.push('/comment')\r\n  }, [state.logged, props.history])\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    //调用后端接口创建user\r\n    login(email, password)(dispatch)\r\n  }\r\n  return (\r\n    <div>\r\n      <h3 className='mt-3 mb-5'>ログイン</h3>\r\n      <form onSubmit={(e) => onSubmit(e)}>\r\n        <div className='form-group'>\r\n          <label>メールアドレス: </label>\r\n          <input\r\n            type='email'\r\n            className='form-control mt-2 mb-4'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>パスワード: </label>\r\n          <input\r\n            type='password'\r\n            className='form-control mt-2 mb-4'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <input type='submit' value='サインイン' className='btn btn-info' />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\nexport default Login\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { UserContext } from '../../provider/UserContext'\r\nimport { logout } from '../../actions/userActions'\r\n\r\nconst Logout = (props) => {\r\n  const { state, dispatch } = useContext(UserContext)\r\n  useEffect(() => {\r\n    if (state.logged === false) props.history.push('/user/login')\r\n  }, [state.logged, props.history])\r\n\r\n  const cancel = () => {\r\n    props.history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3 className='mt-3 mb-5'>ログアウト</h3>\r\n      <span className='form-group'>なんでもさいとからログアウトしますか？</span>\r\n      <div className='form-group'>\r\n        <button\r\n          onClick={() => cancel()}\r\n          className='btn btn-info'\r\n          style={{ backgroundColor: 'lightgray', borderColor: 'lightgray' }}\r\n        >\r\n          キャンセル\r\n        </button>\r\n        <button onClick={() => logout(dispatch)} className='btn btn-info'>\r\n          ログアウト\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Logout","import React from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './style.css'\r\n\r\nimport {Navbar} from './components/Navbar'\r\nimport Example from './components/Example'\r\nimport Comment from './components/Comment'\r\nimport SignIn from './components/user/SignIn'\r\nimport MyPage from './components/user/MyPage'\r\nimport Login from './components/user/Login'\r\nimport Logout from './components/user/Logout'\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className='container'>\r\n        <Navbar />\r\n        <br />\r\n        <Route path='/' exact component={Example} />\r\n        <Route path='/comment' component={Comment} />\r\n        <Route path='/user/signup' component={SignIn} />\r\n        <Route path='/user/mypage' component={MyPage} />\r\n        <Route path='/user/login' component={Login} />\r\n        <Route path='/user/logout' component={Logout} />\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport 'antd/dist/antd.css'\r\n\r\nimport {UserProvider} from './provider/UserContext'\r\n\r\nReactDOM.render(\r\n  <UserProvider>\r\n    <App />\r\n  </UserProvider>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}